! function() {
    var i = new Image;
    i.src = "images/portrait.png";
    var t = function() {
        this.canvas = document.getElementById("portrait"), this.context = this.canvas.getContext("2d")
    };
    t.prototype.resize = function() {
        var e = window.innerWidth,
            t = window.innerHeight;
        .75 < e / t ? e = .75 * t : t = e / .75, this.canvas.style.width = e + "px", this.canvas.style.height = t + "px", this.context.drawImage(i, 0, 0, 768, 1024)
    };
    var a, e = function(e, t, i, a) {
        this.xLeft = e, this.yTop = t, this.xRight = e + i, this.yBottom = t + a, this.width = i, this.height = a
    };
    e.prototype.isClicked = function(e, t) {
        return this.xLeft <= e && e <= this.xRight && this.yTop < +t && t <= this.yBottom
    };
    var r, s, o, l, g, c, d, m, h = [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 0, 1],
        p = [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 0, 1],
        w = 416,
        u = 300,
        n = new Image;
    n.src = "images/locate_start_screen.png";
    var f = new Image;
    f.src = "images/ra_game_screen_blank.png";
    var v = new Image;
    v.src = "images/logo.png";
    var x = new Image;
    x.src = "images/final_screen.png";
    var b = new Image;
    b.src = "images/aa_white_arrow.png";
    var k = new Image;
    k.src = "images/spaceship.png";
    var y = new Image;
    y.src = "images/aa_next.png";
    var I = new Image;
    I.src = "images/ra_progress.png";
    var _ = new Image;
    _.src = "images/actual_point.png";
    var S = new Image;
    S.src = "images/your_point.png";
    var T = [new Image, new Image, new Image, new Image, new Image, new Image, new Image, new Image, new Image, new Image, new Image, new Image];
    T[0].src = "images/alien_01.png", T[1].src = "images/alien_02.png", T[2].src = "images/alien_03.png", T[3].src = "images/alien_04.png", T[4].src = "images/alien_05.png", T[5].src = "images/alien_06.png", T[6].src = "images/alien_12.png", T[7].src = "images/alien_07.png", T[8].src = "images/alien_08.png", T[9].src = "images/alien_09.png", T[10].src = "images/alien_10.png", T[11].src = "images/alien_11.png";
    var j, C, P, A, B = new e(0, 0, 0, 0),
        z = new e(0, 0, 800, 800),
        E = -1,
        L = document.getElementById("bgcanvas"),
        M = document.getElementById("canvas"),
        R = 27,
        q = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        F = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        U = L.getContext("2d"),
        O = M.getContext("2d"),
        Q = 0,
        X = 0,
        D = 1,
        W = 10,
        H = new e(830, 595, 150, 96),
        V = new e(892, 627, 100, 64),
        Y = {
            width: 1024,
            height: 768
        },
        G = 80,
        J = new e(844, 650, 160, 100),
        K = new e(0, 0, 1024, 768),
        N = [{
            src: "images/aa_next.png",
            id: "next"
        }, {
            src: "images/aa_white_arrow.png",
            id: "white"
        }, {
            src: "images/actual_point.png",
            id: "actual"
        }, {
            src: "images/alien_01.png",
            id: "01"
        }, {
            src: "images/alien_02.png",
            id: "02"
        }, {
            src: "images/alien_03.png",
            id: "03"
        }, {
            src: "images/alien_04.png",
            id: "04"
        }, {
            src: "images/alien_05.png",
            id: "05"
        }, {
            src: "images/alien_06.png",
            id: "06"
        }, {
            src: "images/alien_07.png",
            id: "07"
        }, {
            src: "images/alien_08.png",
            id: "08"
        }, {
            src: "images/alien_09.png",
            id: "09"
        }, {
            src: "images/alien_10.png",
            id: "10"
        }, {
            src: "images/alien_11.png",
            id: "11"
        }, {
            src: "images/alien_12.png",
            id: "12"
        }, {
            src: "images/final_screen.png",
            id: "final"
        }, {
            src: "images/locate_start_screen.png",
            id: "start"
        }, {
            src: "images/ra_game_screen_blank.png",
            id: "game"
        }, {
            src: "images/ra_progress.png",
            id: "progress"
        }, {
            src: "images/spaceship.png",
            id: "spaceship"
        }, {
            src: "images/your_point.png",
            id: "your"
        }, {
            src: "images/portrait.png",
            id: "portrait"
        }, {
            src: "images/logo.png",
            id: "logo"
        }],
        Z = !1,
        $ = !1,
        ee = 0,
        te = N.length;

    function ie() {
        ne(), a.resize(), L.style.width = j + "px", L.style.height = C + "px", M.style.width = j + "px", M.style.height = C + "px", 1 == E ? me() : 0 == E ? ce() : -1 == E ? ge() : 3 == E ? fe() : 15 == E ? (he(), ue()) : 2 == E && (he(), ue(), U.drawImage(y, 832, 650 - G, 160, 100))
    }

    function ae() {
        ne(), L.style.width = j + "px", L.style.height = C + "px", M.style.width = j + "px", M.style.height = C + "px", (a = new t).resize(), ce(), document.addEventListener("click", re), document.addEventListener("mousemove", se), document.addEventListener("touchmove", se), window.addEventListener("resize", ie)
    }

    function ne() {
        j = window.innerWidth, C = window.innerHeight, 4 / 3 < j / C ? j = C * (4 / 3) : C = j / (4 / 3), D = j / 1024, Y.width = 1024, Y.height = 768, G = 0, protracto5 = 0, R = 55, L.width = 1024, u = Y.height / 2, L.height = Y.height, M.width = L.width, M.height = L.height, z = new e(w - 6.5 * R, u - 6.5 * R, 13 * R, 13 * R), B = new e(w + R * (h[Q] - 10) - R / 2, u + R * (p[Q] - 10) - R / 2, R, R)
    }

    function re(e) {
        var t = (e.pageX - L.offsetLeft) / D,
            i = (e.pageY - L.offsetTop) / D + G;
        if (-1 == E) K.isClicked(t, i) && (xe(), E = 0, ce());
        else if (0 == E) {
            if (H.isClicked(t, i - G / 2)) return xe(), le(T), le(h), le(p), de(), E = 1, !0
        } else if (1 == E) {
            if (B.isClicked(t, i - G)) return F[Q] = "(" + d + "," + m + ")", Q++, s = r = 0, g = Math.abs(d * R), c = Math.abs(m * R), (o = (g + c) / 60) < 5 && (o = 5), l = -1 * o, createjs.Sound.play("soundSpacePowerUp"), X++, E = 15, he(), createjs.Ticker.setFPS(30), createjs.Ticker.addEventListener("tick", pe), !0;
            if (z.isClicked(t, i - G)) {
                var a = Math.round(6 + (t - w) / R),
                    n = Math.round(6 + (u - i + G) / R);
                return F[Q] = "(" + a + "," + n + ")", Q++, s = r = 0, g = Math.abs(a * R), c = Math.abs(n * R), (o = (g + c) / 60) < 5 && (o = 5), l = -1 * o, E = 15, createjs.Sound.play("soundSpacePowerUp"), he(), createjs.Ticker.setFPS(30), createjs.Ticker.addEventListener("tick", we), !0
            }
        } else if (2 == E) {
            if (J.isClicked(t, i)) return xe(), de(), E = 1, !0
        } else if (3 == E && V.isClicked(t, i - G / 2)) return xe(), E = 1, X = Q = 0, le(T), le(h), le(p), de(), !0
    }

    function se(e) {
        var t = (e.pageX - L.offsetLeft) / D,
            i = (e.pageY - L.offsetTop) / D + G;
        if (-1 == E) {
            if (K.isClicked(t, i)) return oe(), !0
        } else if (0 == E) {
            if (H.isClicked(t, i - G / 2)) return oe(), !0
        } else if (1 == E) {
            if (J.isClicked(t, i)) return oe(), !0
        } else if (2 == E) {
            if (J.isClicked(t, i)) return oe(), !0
        } else if (3 == E && V.isClicked(t, i - G / 2)) return oe(), !0;
        document.body.style.cursor = "default"
    }

    function oe() {
        document.body.style.cursor = "pointer"
    }

    function le(e) {
        var t = 0,
            i = 0,
            a = null;
        for (t = e.length - 1; 0 < t; t -= 1) i = Math.floor(Math.random() * (t + 1)), a = e[t], e[t] = e[i], e[i] = a
    }

    function ge() {
        var e = new createjs.Bitmap(v);
        stage.addChild(e)
    }

    function ce() {
        E = 0, U.clearRect(0, 0, 2e3, 1150), U.drawImage(n, 0, G / 2, Y.width, Y.height, 0, 0, Y.width, Y.height)
    }

    function de() {
        r = 0, W = 50, d = h[Q], m = p[Q], q[Q] = "(" + d + "," + m + ")", P = T[Q], B = new e(w + R * (h[Q] - 6) - R / 2, u + R * (6 - p[Q]) - R / 2, R, R), me()
    }

    function me() {
        var e;
        for (O.clearRect(0, 0, 2e3, 1150), U.clearRect(0, 0, 2e3, 1150), U.drawImage(f, 0, G, Y.width, Y.height, 0, 0, Y.width, Y.height), U.drawImage(_, 832, 20, 160, 100), U.drawImage(S, 832, 140, 160, 100), U.drawImage(I, 832, 380, 160, 100), U.textAlign = "center", U.font = "bold 20pt \"ShFD\"", U.fillStyle = "white", U.textBaseline = "top", U.fillText(q[Q], 912, 70), 0 == Q ? U.fillText(Q, 912, 430) : U.fillText(X + "/" + Q, 912, 430), U.strokeStyle = "#999", U.font = "bold 12pt \"ShFD\"", U.fillStyle = "#ffff00", U.textAlign = "center", U.textBaseline = "middle", U.save(), U.translate(w + -6 * R - 3, u + 6 * R), U.drawImage(b, b.width - 12 * R - 20, 0, 12 * R + 20, 14, 0, -7, 12 * R + 20, 14), U.restore(), U.save(), U.translate(w + -6 * R, u + 6 * R), U.rotate(-1 * Math.PI / 2), U.drawImage(b, b.width - 12 * R - 20, 0, 12 * R + 20, 14, 0, -7, 12 * R + 20, 14), U.restore(), e = 0; e < 13; e++) U.beginPath(), U.moveTo(w + R * (e - 6), u - 6 * R), U.lineTo(w + R * (e - 6), u + 6 * R), U.closePath(), U.stroke(), U.beginPath(), U.moveTo(w + -6 * R, u + (e - 6) * R), U.lineTo(w + 6 * R, u + (e - 6) * R), U.closePath(), U.stroke();
        for (U.textAlign = "center", U.textBaseline = "middle", U.fillText(0, w - 6 * R - 10, u + 6 * R + 10), U.textBaseline = "top", e = 1; e < 13; e++) U.fillText(e, w + R * (e - 6), u + 6 * R);
        for (U.textAlign = "right", U.textBaseline = "middle", e = 0; e < 12; e++) U.fillText(12 - e, w - 2 - 6 * R, u + R * (e - 6))
    }

    function he() {
        var e;
        for (O.clearRect(0, 0, 2e3, 1150), U.drawImage(f, 0, G, Y.width, Y.height, 0, 0, Y.width, Y.height), U.drawImage(_, 832, 20, 160, 100), U.drawImage(S, 832, 140, 160, 100), U.drawImage(I, 832, 380, 160, 100), O.drawImage(P, w + R * (d - 6) - P.width / 4, u + R * (6 - m) - P.height / 4, P.width / 2, P.height / 2), U.textAlign = "center", U.font = "bold 20pt \"ShFD\"", U.fillStyle = "white", U.textBaseline = "top", U.fillText(q[Q - 1], 912, 70), U.fillText(F[Q - 1], 912, 190), 0 == Q ? U.fillText(Q, 912, 430) : U.fillText(X + "/" + Q, 912, 430), U.strokeStyle = "#999", U.font = "bold 12pt \"ShFD\"", U.fillStyle = "#ffff00", U.textAlign = "center", U.textBaseline = "middle", U.save(), U.translate(w + -6 * R - 3, u + 6 * R), U.drawImage(b, b.width - 12 * R - 20, 0, 12 * R + 20, 14, 0, -7, 12 * R + 20, 14), U.restore(), U.save(), U.translate(w + -6 * R, u + 6 * R), U.rotate(-1 * Math.PI / 2), U.drawImage(b, b.width - 12 * R - 20, 0, 12 * R + 20, 14, 0, -7, 12 * R + 20, 14), U.restore(), e = 0; e < 13; e++) U.beginPath(), U.moveTo(w + R * (e - 6), u - 6 * R), U.lineTo(w + R * (e - 6), u + 6 * R), U.closePath(), U.stroke(), U.beginPath(), U.moveTo(w + -6 * R, u + (e - 6) * R), U.lineTo(w + 6 * R, u + (e - 6) * R), U.closePath(), U.stroke();
        for (U.textAlign = "center", U.textBaseline = "middle", U.fillText(0, w - 6 * R - 10, u + 6 * R + 10), U.textBaseline = "top", e = 1; e < 13; e++) U.fillText(e, w + R * (e - 6), u + 6 * R);
        for (U.textAlign = "right", U.textBaseline = "middle", e = 0; e < 12; e++) U.fillText(12 - e, w - 2 - 6 * R, u + R * (e - 6))
    }

    function pe(e) {
        ue(), o < g ? (r += o, g -= o) : 0 < g ? (r += g, g = 0) : o < c ? (s += l, c -= o) : 0 < c ? (s -= c, c = 0) : 50 == W ? (createjs.Sound.play("soundSpacey"), W -= 1) : 0 < W ? W -= 1 : 10 == Q ? (E = 3, createjs.Ticker.removeAllEventListeners(), fe()) : (createjs.Ticker.removeAllEventListeners(), U.drawImage(y, 832, 650 - G, 160, 100), E = 2)
    }

    function we(e) {
        ue(), o < g ? (r += o, g -= o) : 0 < g ? (r += g, g = 0) : o < c ? (s += l, c -= o) : 0 < c ? (s -= c, c = 0) : 10 == Q ? (E = 3, createjs.Ticker.removeAllEventListeners(), fe()) : (E = 2, createjs.Ticker.removeAllEventListeners(), U.drawImage(y, 832, 650 - G, 160, 100))
    }

    function ue() {
        O.clearRect(0, 0, 2e3, 1150);
        var e = T[Q - 1];
        O.globalAlpha = W, O.drawImage(e, w + R * (h[Q - 1] - 6) - e.width / 4, u + R * (6 - p[Q - 1]) - e.height / 4, e.width / 2, e.height / 2), O.drawImage(k, w - 6 * R + r - 20, u + 6 * R + s - 15), O.globalAlpha = 1
    }

    function fe() {
        var e;
        for (O.clearRect(0, 0, 2e3, 1150), U.drawImage(x, 0, G / 2, Y.width, Y.height, 0, 0, Y.width, Y.height), U.textAlign = "center", U.font = "bold 20pt \"ShFD\"", U.fillStyle = "gray", U.textBaseline = "top", e = 0; e < 10; e++) U.fillText(q[e], 522, 152 + 45 * e - G / 2), U.fillText(F[e], 840, 152 + 45 * e - G / 2)
    }

    function ve() {}

    function xe() {
        createjs.Sound.play("sndButtonClick")
    }

    function be(e) {
        e.preventDefault(), ee++, preloader.update(ee / te), stage.update()
    }

    function ke(e) {
        e.preventDefault(), $ = !0, Z && ae()
    }

    function ye() {
        Z = !0, $ && ae()
    }

    function Ie() {
        if (L = document.getElementById("bgcanvas"), U = L.getContext("2d"), a = new t, true) {
            stage = new createjs.Stage(L), createjs.Tween.get(stage, {
                useTicks: !0
            }).wait(36).call(ye), ge(), ie(), preloader = new ui.Preloader("#FFCC00", "#000"), preloader.x = stage.canvas.width / 2 - preloader.width / 2, preloader.y = 650, stage.addChild(preloader);
            var e = new createjs.LoadQueue(!1);
            e.addEventListener("fileload", be), e.addEventListener("complete", ke), e.loadManifest(N), U.textAlign = "center",
                function() {
                    if (!1 === Se || !1 === _e) {
                        if (!createjs.Sound.initializeDefaultPlugins()) return;
                        0 < navigator.userAgent.indexOf("Opera") || 0 < navigator.userAgent.indexOf("OPR") ? (createjs.Sound.alternateExtensions = ["mp3"], createjs.Sound.addEventListener("fileload", ve), createjs.Sound.registerSound("sound/spacepowerup.ogg", "soundSpacePowerUp"), createjs.Sound.registerSound("sound/spacey.ogg", "soundSpacey"), createjs.Sound.registerSound("sound/buttonclick.ogg", "sndButtonClick")) : (createjs.Sound.alternateExtensions = ["ogg"], createjs.Sound.addEventListener("fileload", ve), createjs.Sound.registerSound("sound/spacepowerup.mp3", "soundSpacePowerUp"), createjs.Sound.registerSound("sound/spacey.mp3", "soundSpacey"), createjs.Sound.registerSound("sound/buttonclick.mp3", "sndButtonClick"))
                    }
                }()
        } else U.font = "bold 30pt \"ShFD\"", U.fillStyle = "red", U.fillText("بازی‌های بیشتر در ali.id.ir", 50, 200), a.context.font = "bold 20pt \"ShFD\"", a.context.fillStyle = "red", a.context.fillText("بازی‌های بیشتر در ali.id.ir", 50, 200)
    }! function() {
        window.ui = window.ui || {};
        var e = function(e, t) {
                this.fillColor = e, this.strokeColor = t, this.initialize()
            },
            t = e.prototype = new createjs.Container;
        t.width = 400, t.height = 40, t.fillColor, t.strokeColor, t.bar, t.Container_initialize = t.initialize, t.initialize = function() {
            this.Container_initialize(), this.drawPreloader()
        }, t.drawPreloader = function() {
            var e = new createjs.Shape;
            e.graphics.beginStroke(this.strokeColor), e.graphics.drawRect(0, 0, this.width, this.height), this.bar = new createjs.Shape, this.bar.graphics.beginFill(this.fillColor), this.bar.graphics.drawRect(0, 0, this.width, this.height), this.bar.scaleX = 0, this.addChild(this.bar, e)
        }, t.update = function(e) {
            e = 1 < e ? 1 : e, this.bar.scaleX = e
        }, window.ui.Preloader = e
    }(), A = navigator.userAgent || navigator.vendor || window.opera, (jQuery.browser = jQuery.browser || {}).mobile = /android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(A) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(A.substr(0, 4));
    var _e, Se = !1;
    _e = jQuery.browser.mobile, navigator.userAgent.match(/Windows Phone/i) && (Se = !0), ! function() {
        for (var e = ["iPad Simulator", "iPhone Simulator", "iPod Simulator", "iPad", "iPhone", "iPod"]; e.length;)
            if (navigator.platform === e.pop()) return s_bIsIphone = !0;
        return s_bIsIphone = !1
    }() ? Ie() : setTimeout(function() {
        Ie()
    }, 200)
}();